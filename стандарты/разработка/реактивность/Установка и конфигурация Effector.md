# –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### –®–∞–≥ 1

–ù–∞—á–Ω–µ–º —Å –æ—Å–Ω–æ–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤—Å—ë –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ—Å—Ç–∞–≤–∏–º –ø–æ–∑–∂–µ.

```shell
pnpm add effector effector-react
```

–¢–∞–∫ –∫–∞–∫ effector —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–æ–æ–±—â–µ –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –≤—Å–µ —Ö—É–∫–∏ –¥–ª—è react –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç.

#### –®–∞–≥ 2

–ó–∞–ø—É—Å—Ç–∏–º dev-—Å–µ—Ä–≤–µ—Ä:

```shell
pnpm dev
#  ‚ûú  Local:   http://localhost:5173/
```

#### –®–∞–≥ 3

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `src/model.ts`

–†–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —Å—á–µ—Ç—á–∏–∫, –Ω–∞—à–∞ –∑–∞–¥–∞—á–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

```typescript
import { createEvent, createStore } from 'effector';

export const incrementClicked = createEvent();
export const $counter = createStore(0);

$counter.on(incrementClicked, (counter) => counter + 1);

$counter.watch((counter) => console.info('[store] $counter', counter));
```

#### –®–∞–≥ 4

–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä—è–º–æ –≤ `src/main.tsx`

```typescript
// src/main.tsx
import { useUnit } from 'effector-react';

import '@mantine/core/styles/ActionIcon.css';

import styles from './application.module.css';
import { Button } from './button';
import { Header } from './header';
import { KanbanBoard } from './kanban';
import { $counter, incrementClicked } from './model';

const Counter = () => {
  const [counter, handleIncrement] = useUnit([$counter, incrementClicked]);

  return <Button onClick={handleIncrement}>{counter}</Button>;
};

export const Application = () => {
  return (
    <>
      <Header />
      <Counter />
      <main className={styles.main}>
        <KanbanBoard />
      </main>
    </>
  );
};
```

#### –®–∞–≥ 5

–ï—Å–ª–∏ –í—ã –≤–∏–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–Ω–æ–ø–∫—É —Å—á–µ—Ç—á–∏–∫–∞ –∏ —Å—á–µ—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, –∑–Ω–∞—á–∏—Ç effector —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

# –û—Ç–ª–∞–¥–∫–∞

–í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤, –º—ã –Ω–µ –±—É–¥–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `.watch()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –µ—Å—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏ –ª–æ–≥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å - —É—Ç–∏–ª–∏—Ç–∞ debug –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ patronum.

#### –®–∞–≥ 1

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ—ë

```shell
pnpm add patronum
```

#### –®–∞–≥ 2

–¢–µ–ø–µ—Ä—å –≤–º–µ—Å—Ç–æ `.watch()` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `debug()`

```typescript
import { debug } from 'patronum';

// ...

debug($counter, incrementClicked);
```

#### –®–∞–≥ 3

–ù–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```livescript
[store] 3 [getState] 0
[event] 1 SyntheticBaseEvent {...}
[store] 3 1
[event] 1 SyntheticBaseEvent {...}
[store] 3 2
[event] 1 SyntheticBaseEvent {...}
[store] 3 3
```

#### –®–∞–≥ 4

–í–º–µ—Å—Ç–æ —á–∏—Å–µ–ª, –º—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–æ—Ä–∞ –∏ —Å–æ–±—ã—Ç–∏—è, —á—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ, –º–æ–∂–Ω–æ –∑–∞–≤–µ—Ä–Ω—É—Ç—å —é–Ω–∏—Ç—ã –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ `debug` –≤ –æ–±—ä–µ–∫—Ç

```typescript
debug({ $counter, incrementClicked });
```

#### –®–∞–≥ 5

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –∑–∞–¥–∞–ª–∏ –∏–º –∏–º–µ–Ω–∞ –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ –æ—Ç–ª–∞–¥–∫–∏

```livescript
[store] $counter [getState] 0
[event] incrementClicked SyntheticBaseEvent {...}
[store] $counter 1
[event] incrementClicked SyntheticBaseEvent {...}
[store] $counter 2
[event] incrementClicked SyntheticBaseEvent {...}
[store] $counter 3
```

#### –®–∞–≥ 6

–ù–æ debug –∏–º–µ–µ—Ç –∏ –¥—Ä—É–≥—É—é –ø–æ–ª–µ–∑–Ω—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–µ–π—Å–æ–≤, —Ç–æ –µ—Å—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π. –≠—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Å—Ç–æ—Ä–∞ –∏–ª–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—é —Å–æ–±—ã—Ç–∏—è.

```typescript
debug({ trace: true }, { $counter });
```

#### –®–∞–≥ 7

–Ø —É–±—Ä–∞–ª `incrementClicked` –∏ –¥–æ–±–∞–≤–∏–ª –ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º `{ trace: true }`.

```livescript
[store] $counter [getState] 0
[store] $counter 1
[store] $counter trace
  <- [store] $counter 1
  <- [on] $counter.on(1) 1
  <- [event] 1
```

–¢–µ–ø–µ—Ä—å, –ø—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–æ—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π `console.group`. –ù–æ –∑–¥–µ—Å—å —Å–Ω–æ–≤–∞ –ø—Ä–æ–ø–∞–ª–æ –∏–º—è —Å–æ–±—ã—Ç–∏—è.

#### –®–∞–≥ 8

–ú–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, –∑–∞–¥–∞–≤–∞—è –≤—Ä—É—á–Ω—É—é –≤—Å–µ –∏–º–µ–Ω–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —é–Ω–∏—Ç–æ–≤

```typescript
export const incrementClicked = createEvent({
  name: 'incrementClicked',
});
```

–ù–æ —ç—Ç–æ –Ω–µ —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±, –≤–µ–¥—å —Ç–æ–≥–¥–∞, –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —é–Ω–∏—Ç–∞ –ø—Ä–∏–¥–µ—Ç—Å—è –Ω–µ –∑–∞–±—ã—Ç—å —Å–º–µ–Ω–∏—Ç—å –∏–º—è —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö.

–í–æ—Ç –±—ã–ª –±—ã —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–º—è —é–Ω–∏—Ç–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è.

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ babel

–ü–ª–∞–≥–∏–Ω –¥–ª—è babel —É–º–µ–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏–º–µ–Ω –≤—Å–µ–º —é–Ω–∏—Ç–∞–º, –Ω–æ —Å–µ–π—á–∞—Å –≤–∞–∂–Ω–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ.

–ú–æ–∂–Ω–æ –∫–æ–Ω–µ—á–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–º–µ–Ω–∞, –Ω–æ —ç—Ç–æ —É–≤–µ–ª–∏—á–∏—Ç —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏, –ø–ª—é—Å –≤—Å—Ç–∞–Ω–µ—Ç –≤–æ–ø—Ä–æ—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –¥–≤–∞ —à–∞–≥–∞:

#### –®–∞–≥ 1

C–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.babelrc` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

```json
{
  "plugins": ["effector/babel-plugin"]
}
```

#### –®–∞–≥ 2

–í–∫–ª—é—á–∏—Ç—å `babelrc` –≤ –ø–ª–∞–≥–∏–Ω–µ `@vitejs/plugin-react`

```typescript
import react from '@vitejs/plugin-react';
import { defineConfig } from 'vite';

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react({ babel: { babelrc: true } })],
  css: { modules: { localsConvention: 'camelCase' } },
});
```

#### –®–∞–≥ 3

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å debug –±–µ–∑ –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –≤ –æ–±—ä–µ–∫—Ç

```typescript
debug({ trace: true }, $counter);
```

–ò–º–µ–Ω–∞ –≤—Å–µ—Ö —é–Ω–∏—Ç–æ–≤ –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∏–º–µ–Ω–∞–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏.

# –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ú–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –∏ –±–µ–∑ `patronum/debug`, —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–ª–∞–¥–∫–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

```ts
$counter.watch((counter) =>
  console.log(`[store] ${$counter.shortName}`, counter)
);
```

–ó–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ `.shortName`, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Ä–∞–∑ –ø–ª–∞–≥–∏–Ω–∞–º–∏ –∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞–º –≤—Ä–æ–¥–µ babel/swc/oxs, –∞ —Ç–∞–∫–∂–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `{ name }` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —é–Ω–∏—Ç–∞.

–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `debug` –≤ —Ç–æ–º, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É–º–µ–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Ç—Ä–µ–π—Å—ã, –∞ —Ç–∞–∫–∂–µ –ø–µ—á–∞—Ç–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–æ—Ä–∞ –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

```tsx
[store] $someStore [getState] value
```

–ü–æ–∑–∂–µ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –ø–æ–Ω—è—Ç–∏—è–º–∏ Scope –∏ .sid, –≤–æ—Ç –≥–¥–µ `debug` –ø—Ä–∏–Ω–µ—Å–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–ª—å–∑—ã, —á—Ç–æ–±—ã –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –æ—Ç –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–ß—Ç–æ–±—ã –∏–º–µ–Ω–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ production —Å–±–æ—Ä–∫—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `api.env("production")` –≤ —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ babel. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Ç–∞–∫ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ–ø—Ü–∏—é `addNames` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–±–æ—Ä–∫–∏

```js
// babel.config.js
module.exports = function (api) {
  api.cache(true);

  return {
    plugins: [
      [
        'effector/babel-plugin',
        {
          addNames: api.env('production') === false,
        },
      ],
    ],
  };
};
```

# –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è effector –¥–ª—è Vite –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ–±—ã—á–Ω–æ –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ 5 –º–∏–Ω—É—Ç. –°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –≤ —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

–ß—Ç–æ–±—ã –Ω–µ –∑–∞–±—ã—Ç—å —É–±—Ä–∞—Ç—å `patronum/debug` –∏–∑ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π pull request, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å eslint –≤–º–µ—Å—Ç–µ —Å `eslint-plugin-effector`.

–í–æ–æ–±—â–µ, –≤ —ç—Ç–æ–º –ø–ª–∞–≥–∏–Ω–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–¥.

–î–µ—Ç–∞–ª—å–Ω–æ –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ª–∏–Ω—Ç–µ—Ä–∞ –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑.

–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ:

[https://github.com/frontend-vision/brello-2024.02/commit/b6f576e3512102525fd8707f48de00b0efc48216](https://github.com/frontend-vision/brello-2024.02/commit/b6f576e3512102525fd8707f48de00b0efc48216)

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Installation üöÄ effector](https://effector.dev/en/introduction/installation/)
- [Usage with effector-react üöÄ effector](https://effector.dev/en/typescript/usage-with-effector-react/)
- [effector patronum](https://patronum.effector.dev/)
- [debug](https://patronum.effector.dev/operators/debug/)
- [Config Files ¬∑ Babel](https://babeljs.io/docs/config-files#apienv)
- [ESLint plugin for Effector | ESLint plugin for Effector](https://eslint.effector.dev/)
- [effector/no-patronum-debug | ESLint plugin for Effector](https://eslint.effector.dev/rules/no-patronum-debug.html)
